<section class="content-header">
    <h1>
        Filters
        <small>CRUD</small>
    </h1>
</section>
<section class="content container-fluid">
    <div class="row">
        <div class="col-md-12">
            <p-table [value]="filters" selectionMode="single" [(selection)]="selectedFilter" (onRowSelect)="onRowSelect($event)">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Text</th>
                        <th>Remove</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-filter>
                    <tr [pSelectableRow]="filter" title="Click on the row to edit">
                        <td>{{filter.FilterText}}</td>
                        <td>
                            <a class="btn-danger" (click)="remove(filter.TargetFilterId)">Remove</a>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
            <button (click)="addNew()" class="m-t-20 btn btn-primary">
                <i class="fa fa-plus"></i>&nbsp; Add New Filter</button>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12 content" style="overflow-x: scroll;">
            <filter-grid #filterGrid *ngIf="filterGroupId" [filterGroupId]="filterGroupId"></filter-grid>
        </div>
    </div>
</section>

<!-- edit modal -->
<p-dialog header="Filter Details" [(visible)]="displayDialog" [responsive]="true" showEffect="fade" [modal]="true" [width]="500">
    <div class="ui-g ui-fluid" *ngIf="filter">
        <div class="ui-g-12">
            <div class="ui-g-4">
                <label for="text">Text</label>
            </div>
            <div class="ui-g-8 p-0">
                <input class="form-control" pInputText id="text" [(ngModel)]="filter.FilterText" />
            </div>
        </div>
    </div>
    <p-footer>
        <div class="ui-dialog-buttonpane ui-helper-clearfix">
            <button (click)="close()" class="m-t-20 btn btn-danger">
                <i class="fa fa-close"></i>&nbsp; Cancel</button>
            <button (click)="save()" class="m-t-20 btn btn-primary">
                <i class="fa fa-check"></i>&nbsp; Save</button>
        </div>
    </p-footer>
</p-dialog>